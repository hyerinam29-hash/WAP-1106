<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë„¤ì´ë²„ ì§€ë„ API í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        #map {
            width: 100%;
            height: 500px;
            border: 2px solid #ddd;
            border-radius: 8px;
        }
        .info {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .error {
            background: #fee;
            border: 2px solid #fcc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .success {
            background: #efe;
            border: 2px solid #cfc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        code {
            background: #eee;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <h1>ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„ API í…ŒìŠ¤íŠ¸</h1>
    
    <div class="info">
        <h3>í˜„ì¬ ì„¤ì •</h3>
        <p><strong>Client ID:</strong> <code id="client-id">jz6mm8mwj2</code></p>
        <p><strong>í˜„ì¬ ë„ë©”ì¸:</strong> <code id="current-domain"></code></p>
        <p><strong>ìŠ¤í¬ë¦½íŠ¸ URL:</strong> <code id="script-url"></code></p>
    </div>

    <div id="status"></div>

    <div id="map"></div>

    <div class="info" style="margin-top: 20px;">
        <h3>âœ… í™•ì¸ ì‚¬í•­</h3>
        <ol>
            <li>ë„¤ì´ë²„ í´ë¼ìš°ë“œ í”Œë«í¼ ì½˜ì†” ì ‘ì†: <a href="https://console.ncloud.com/" target="_blank">https://console.ncloud.com/</a></li>
            <li>AIÂ·Application Service â†’ AIÂ·NAVER API â†’ Application ë“±ë¡ ì •ë³´</li>
            <li>í•´ë‹¹ Client ID ì„ íƒ</li>
            <li>API ì„¤ì • íƒ­ â†’ ì„œë¹„ìŠ¤ URLì— <strong><code id="domain-to-register"></code></strong> ì¶”ê°€</li>
            <li>Maps ì„œë¹„ìŠ¤ í™œì„±í™” í™•ì¸</li>
        </ol>
    </div>

    <script>
        const CLIENT_ID = 'jz6mm8mwj2';
        const currentDomain = window.location.origin;
        const scriptUrl = `https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=${CLIENT_ID}`;

        // í˜ì´ì§€ ì •ë³´ í‘œì‹œ
        document.getElementById('client-id').textContent = CLIENT_ID;
        document.getElementById('current-domain').textContent = currentDomain;
        document.getElementById('script-url').textContent = scriptUrl;
        document.getElementById('domain-to-register').textContent = currentDomain;

        console.log('ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„ API í…ŒìŠ¤íŠ¸ ì‹œì‘');
        console.log('Client ID:', CLIENT_ID);
        console.log('í˜„ì¬ ë„ë©”ì¸:', currentDomain);
        console.log('ìŠ¤í¬ë¦½íŠ¸ URL:', scriptUrl);

        // ìƒíƒœ í‘œì‹œ í•¨ìˆ˜
        function showStatus(type, message) {
            const statusDiv = document.getElementById('status');
            statusDiv.className = type;
            statusDiv.innerHTML = `<strong>${type === 'error' ? 'âŒ ì˜¤ë¥˜' : 'âœ… ì„±ê³µ'}:</strong> ${message}`;
        }

        // ë„¤ì´ë²„ ì§€ë„ API ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ
        const script = document.createElement('script');
        script.src = scriptUrl;
        script.async = true;

        script.onload = () => {
            console.log('âœ… ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì™„ë£Œ');
            
            setTimeout(() => {
                if (window.naver && window.naver.maps) {
                    console.log('âœ… ë„¤ì´ë²„ ì§€ë„ API ì¤€ë¹„ ì™„ë£Œ');
                    showStatus('success', 'ë„¤ì´ë²„ ì§€ë„ APIê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
                    
                    try {
                        // ì§€ë„ ìƒì„±
                        const mapOptions = {
                            center: new window.naver.maps.LatLng(37.5665, 126.9780),
                            zoom: 15
                        };
                        const map = new window.naver.maps.Map('map', mapOptions);
                        
                        // ë§ˆì»¤ ì¶”ê°€
                        new window.naver.maps.Marker({
                            position: new window.naver.maps.LatLng(37.5665, 126.9780),
                            map: map,
                            title: 'ì„œìš¸ì‹œì²­'
                        });
                        
                        console.log('âœ… ì§€ë„ ì´ˆê¸°í™” ì™„ë£Œ');
                    } catch (err) {
                        console.error('âŒ ì§€ë„ ì´ˆê¸°í™” ì‹¤íŒ¨:', err);
                        showStatus('error', `ì§€ë„ ì´ˆê¸°í™” ì‹¤íŒ¨: ${err.message}`);
                    }
                } else {
                    console.error('âŒ window.naver.mapsë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                    showStatus('error', 'window.naver.mapsë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¸ì¦ ì‹¤íŒ¨ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                }
            }, 100);
        };

        script.onerror = (error) => {
            console.error('âŒ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨:', error);
            showStatus('error', `ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨. ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë˜ëŠ” Client IDë¥¼ í™•ì¸í•˜ì„¸ìš”.`);
        };

        document.head.appendChild(script);
        console.log('ğŸ“¡ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹œì‘');
    </script>
</body>
</html>

